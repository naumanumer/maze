{"version":3,"file":"recursiveBackTrack.es.js","sources":["../../src/generators/recursiveBackTrack.ts"],"sourcesContent":["import {Board, Cell, RectangularDirection} from '../board';\nimport {IGenerator} from \"./types\";\n\n/**\n * Depth first recursive backtrack maze generation algorithm\n * https://weblog.jamisbuck.org/2010/12/27/maze-generation-recursive-backtracking\n *\n * Generates long dead ends making the solution little difficult\n */\nexport default class RecursiveBacktrack implements IGenerator {\n  generate(board: Board): Board {\n    board = board.clone();\n    const visitedCells = new Map();\n    const randomCell = board.getRandomCell();\n    board.cells[0].removeWall(RectangularDirection.LEFT);\n    board.cells[board.cells.length - 1].removeWall(RectangularDirection.RIGHT);\n\n    this.visitCell(randomCell, visitedCells, board);\n    return board;\n  }\n\n  visitCell(cell: Cell, visitedCells: Map<string, Cell>, board: Board) {\n    visitedCells.set(cell.position.stringify(), cell);\n    const cells = Array.from(board.getNeighbourCells(cell.position).values());\n\n    while (cells.length !== 0) {\n      const i = Math.round(Math.random() * (cells.length - 1));\n      const randomCell = cells[i];\n\n      if (!visitedCells.has(randomCell.position.stringify())) {\n        board.removeInterWall(cell.position, randomCell.position);\n        this.visitCell(randomCell, visitedCells, board);\n      }\n\n      cells.splice(i, 1);\n    }\n  }\n}\n"],"names":["[object Object]","board","clone","visitedCells","Map","randomCell","getRandomCell","cells","removeWall","length","this","visitCell","cell","set","position","stringify","Array","from","getNeighbourCells","values","i","Math","round","random","has","removeInterWall","splice"],"mappings":"qBAUEA,SAASC,GACPA,EAAQA,EAAMC,QACd,MAAMC,EAAe,IAAIC,IACnBC,EAAaJ,EAAMK,gBAKzB,OAJAL,EAAMM,MAAM,GAAGC,mBACfP,EAAMM,MAAMN,EAAMM,MAAME,OAAS,GAAGD,oBAEpCE,KAAKC,UAAUN,EAAYF,EAAcF,GAClCA,EAGTD,UAAUY,EAAYT,EAAiCF,GACrDE,EAAaU,IAAID,EAAKE,SAASC,YAAaH,GAC5C,MAAML,EAAQS,MAAMC,KAAKhB,EAAMiB,kBAAkBN,EAAKE,UAAUK,UAEhE,KAAwB,IAAjBZ,EAAME,QAAc,CACzB,MAAMW,EAAIC,KAAKC,MAAMD,KAAKE,UAAYhB,EAAME,OAAS,IAC/CJ,EAAaE,EAAMa,GAEpBjB,EAAaqB,IAAInB,EAAWS,SAASC,eACxCd,EAAMwB,gBAAgBb,EAAKE,SAAUT,EAAWS,UAChDJ,KAAKC,UAAUN,EAAYF,EAAcF,IAG3CM,EAAMmB,OAAON,EAAG"}